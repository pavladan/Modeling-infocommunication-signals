{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./node_modules/Complex/lib/Complex.js","webpack:///./src/helpers/fixed.js","webpack:///./src/helpers/math.js","webpack:///./src/helpers/calcReaction.js","webpack:///./src/helpers/calcFunc.js","webpack:///./src/worker/main.js","webpack:///./src/helpers/calcLeaps.js"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","Complex","real","im","this","fromRect","a","b","fromPolar","phi","parts","split","Math","cos","sin","toPrecision","k","toFixed","finalize","writable","magnitude","sqrt","angle","atan2","conjugate","negate","multiply","z","from","divide","divident","pow","add","subtract","result","clone","log","exp","abs","sgn","PI","cosh","sinh","tan","tanh","toString","polar","ret","absIm","equals","alias","arg","phase","conj","mult","dev","sub","extend","match","isNaN","one","e","x","E","number","to","callback","Infinity","sum","fixed","pr","dt","y","f","normalizing","data","arrY","map","fi_max","length","fi_dop","math","newEl","calcReaction","inputSignalData","chainVar","centralFraq","signalData","console","Cz","N1","N2","N3","N4","a1s","a2e","a3x","a4y","w2e","w4y","Psi","N","T","delta_t","fi_n","fi_n1","a_n0","a_n1","a_n2","C_n0","C_n1","C_n2","R_0_ozo","exceptions","R_0_jz1s","a_nj","C_nj","P","Kz","R_0_1z1s","R_0_2z1s","R_0_jz2eComplex","KzComplex","R_0_1z2e","fi_0_1z2e","R_0_2z2e","fi_0_2z2e","M_11s","M_21s","_M_and_N_znam","M_12e","N_12e","N_22e","sum1","sum2","Psi_n","values","some","keys","R_1_ozo","push","parseMathJSON","json","start","end","fraq","mainVariables","main","obj","variables","undefined","_main","v","sup","fn","reduce","acc","NaN","asin","acos","atan","sign","ceil","floor","round","sumOrProd","sym","body","parentheses","squareBrackets","cur","next","includes","rightValue","leftValue","newT","args","responseComprasion","group","num","err","error","getChartData","chart","range","numberPoints","leaps","pointsFraq","amplitude","delay","fraquency","calcLeaps","func","calcFunc","calc","charts","addEventListener","msg","postMessage","type"],"mappings":"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","file":"0.worker.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 1);\n","\nvar Complex = function(real, im){\n\tthis.real = real;\n\tthis.im = im;\n};\n\nvar prototype = Complex.prototype = {\n\n\tfromRect: function(a, b){\n\t\tthis.real = a;\n\t\tthis.im = b;\n\t\treturn this;\n\t},\n\n\tfromPolar: function(r, phi){\n\t\tif (typeof r == 'string'){\n\t\t\tvar parts = r.split(' ');\n\t\t\tr = parts[0];\n\t\t\tphi = parts[1];\n\t\t}\n\t\treturn this.fromRect(\n\t\t\tr * Math.cos(phi),\n\t\t\tr * Math.sin(phi)\n\t\t);\n\t},\n\n\ttoPrecision: function(k){\n\t\treturn this.fromRect(\n\t\t\tthis.real.toPrecision(k),\n\t\t\tthis.im.toPrecision(k)\n\t\t);\n\t},\n\n\ttoFixed: function(k){\n\t\treturn this.fromRect(\n\t\t\tthis.real.toFixed(k),\n\t\t\tthis.im.toFixed(k)\n\t\t);\n\t},\n\n\tfinalize: function(){\n\t\tthis.fromRect = function(a, b){\n\t\t\treturn new Complex(a, b);\n\t\t};\n\t\tif (Object.defineProperty){\n\t\t\tObject.defineProperty(this, 'real', {writable: false, value: this.real});\n\t\t\tObject.defineProperty(this, 'im', {writable: false, value: this.im});\n\t\t}\n\t\treturn this;\n\t},\n\n\tmagnitude: function(){\n\t\tvar a = this.real, b = this.im;\n\t\treturn Math.sqrt(a * a + b * b);\n\t},\n\n\tangle: function(){\n\t\treturn Math.atan2(this.im, this.real);\n\t},\n\n\tconjugate: function(){\n\t\treturn this.fromRect(this.real, -this.im);\n\t},\n\n\tnegate: function(){\n\t\treturn this.fromRect(-this.real, -this.im);\n\t},\n\n\tmultiply: function(z){\n\t\tz = Complex.from(z);\n\t\tvar a = this.real, b = this.im;\n\t\treturn this.fromRect(\n\t\t\tz.real * a - z.im * b,\n\t\t\tb * z.real + z.im * a\n\t\t);\n\t},\n\n\tdivide: function(z){\n\t\tz = Complex.from(z);\n\t\tvar divident = (Math.pow(z.real, 2) + Math.pow(z.im, 2)),\n\t\t\ta = this.real, b = this.im;\n\t\treturn this.fromRect(\n\t\t\t(a * z.real + b * z.im) / divident,\n\t\t\t(b * z.real - a * z.im) / divident\n\t\t);\n\t},\n\n\tadd: function(z){\n\t\tz = Complex.from(z);\n\t\treturn this.fromRect(this.real + z.real, this.im + z.im);\n\t},\n\n\tsubtract: function(z){\n\t\tz = Complex.from(z);\n\t\treturn this.fromRect(this.real - z.real, this.im - z.im);\n\t},\n\n\tpow: function(z){\n\t\tz = Complex.from(z);\n\t\tvar result = z.multiply(this.clone().log()).exp(); // z^w = e^(w*log(z))\n\t\treturn this.fromRect(result.real, result.im);\n\t},\n\n\tsqrt: function(){\n\t\tvar abs = this.magnitude(),\n\t\t\tsgn = this.im < 0 ? -1 : 1;\n\t\treturn this.fromRect(\n\t\t\tMath.sqrt((abs + this.real) / 2),\n\t\t\tsgn * Math.sqrt((abs - this.real) / 2)\n\t\t);\n\t},\n\n\tlog: function(k){\n\t\tif (!k) k = 0;\n\t\treturn this.fromRect(\n\t\t\tMath.log(this.magnitude()),\n\t\t\tthis.angle() + k * 2 * Math.PI\n\t\t);\n\t},\n\n\texp: function(){\n\t\treturn this.fromPolar(\n\t\t\tMath.exp(this.real),\n\t\t\tthis.im\n\t\t);\n\t},\n\n\tsin: function(){\n\t\tvar a = this.real, b = this.im;\n\t\treturn this.fromRect(\n\t\t\tMath.sin(a) * cosh(b),\n\t\t\tMath.cos(a) * sinh(b)\n\t\t);\n\t},\n\n\tcos: function(){\n\t\tvar a = this.real, b = this.im;\n\t\treturn this.fromRect(\n\t\t\tMath.cos(a) * cosh(b),\n\t\t\tMath.sin(a) * sinh(b) * -1\n\t\t);\n\t},\n\n\ttan: function(){\n\t\tvar a = this.real, b = this.im,\n\t\t\tdivident = Math.cos(2 * a) + cosh(2 * b);\n\t\treturn this.fromRect(\n\t\t\tMath.sin(2 * a) / divident,\n\t\t\tsinh(2 * b) / divident\n\t\t);\n\t},\n\n\tsinh: function(){\n\t\tvar a = this.real, b = this.im;\n\t\treturn this.fromRect(\n\t\t\tsinh(a) * Math.cos(b),\n\t\t\tcosh(a) * Math.sin(b)\n\t\t);\n\t},\n\n\tcosh: function(){\n\t\tvar a = this.real, b = this.im;\n\t\treturn this.fromRect(\n\t\t\tcosh(a) * Math.cos(b),\n\t\t\tsinh(a) * Math.sin(b)\n\t\t);\n\t},\n\n\ttanh: function(){\n\t\tvar a = this.real, b = this.im,\n\t\t\tdivident = cosh(2 * a) + Math.cos(2 * b);\n\t\treturn this.fromRect(\n\t\t\tsinh(2 * a) / divident,\n\t\t\tMath.sin(2 * b) / divident\n\t\t);\n\t},\n\n\tclone: function(){\n\t\treturn new Complex(this.real, this.im);\n\t},\n\n\ttoString: function(polar){\n\t\tif (polar) return this.magnitude() + ' ' + this.angle();\n\n\t\tvar ret = '', a = this.real, b = this.im;\n\t\tif (a) ret += a;\n\t\tif (a && b || b < 0) ret += b < 0 ? '-' : '+';\n\t\tif (b){\n\t\t\tvar absIm = Math.abs(b);\n\t\t\tif (absIm != 1) ret += absIm;\n\t\t\tret += 'i';\n\t\t}\n\t\treturn ret || '0';\n\t},\n\n\tequals: function(z){\n\t\tz = Complex.from(z);\n\t\treturn (z.real == this.real && z.im == this.im);\n\t}\n\n};\n\nvar alias = {\n\tabs: 'magnitude',\n\targ: 'angle',\n\tphase: 'angle',\n\tconj: 'conjugate',\n\tmult: 'multiply',\n\tdev: 'divide',\n\tsub: 'subtract'\n};\n\nfor (var a in alias) prototype[a] = prototype[alias[a]];\n\nvar extend = {\n\n\tfrom: function(real, im){\n\t\tif (real instanceof Complex) return new Complex(real.real, real.im);\n\t\tvar type = typeof real;\n\t\tif (type == 'string'){\n\t\t\tif (real == 'i') real = '0+1i';\n\t\t\tvar match = real.match(/(\\d+)?([\\+\\-]\\d*)[ij]/);\n\t\t\tif (match){\n\t\t\t\treal = match[1];\n\t\t\t\tim = (match[2] == '+' || match[2] == '-') ? match[2] + '1' : match[2];\n\t\t\t}\n\t\t}\n\t\treal = +real;\n\t\tim = +im;\n\t\treturn new Complex(isNaN(real) ? 0 : real, isNaN(im) ? 0 : im);\n\t},\n\n\tfromPolar: function(r, phi){\n\t\treturn new Complex(1, 1).fromPolar(r, phi);\n\t},\n\n\ti: new Complex(0, 1).finalize(),\n\n\tone: new Complex(1, 0).finalize()\n\n};\n\nfor (var e in extend) Complex[e] = extend[e];\n\nvar sinh = function(x){\n\treturn (Math.pow(Math.E, x) - Math.pow(Math.E, -x)) / 2;\n};\n\nvar cosh = function(x){\n\treturn (Math.pow(Math.E, x) + Math.pow(Math.E, -x)) / 2;\n};\n\nmodule.exports = Complex;\n\n","export default (number) => {\n  if (typeof number === \"number\") {\n    return +number.toFixed(10);\n  }\n};\n","import Complex from 'Complex'\nimport fixed from \"./fixed\";\nexport default {\n  sum(from = 0, to = 0, callback) {\n\t\tif(to===Infinity){\n\t\t\treturn Infinity;\n\t\t}\n    let sum = 0;\n    for (let i = from; i <= to; i++) {\n      sum = fixed(sum + callback(i));\n    }\n    return sum;\n  },\n  prod(from = 0, to = 0, callback) {\n\t\tif(to===Infinity){\n\t\t\treturn Infinity;\n\t\t}\n    let pr = 1;\n    for (let i = from; i <= to; i++) {\n      pr = fixed(pr * callback(i));\n    }\n    return pr;\n\t},\n  prodComplex(from = 0, to = 0, callback) {\n\t\tif(to===Infinity){\n\t\t\treturn Infinity;\n\t\t}\n    let pr = Complex.from(1);\n    for (let i = from; i <= to; i++) {\n\t\t\tpr.multiply(callback(i))\n    }\n    return pr;\n\t},\n\tintegral(from = 0, to = 0, dt = 1, callback){\n\t\tlet sum = 0;\n    for (let i = from; i <= to; i=fixed(i+dt)) {\n      sum = fixed(sum + callback(i) * dt);\n    }\n    return sum;\n\t},\n\tpow(x,y){\n\t\treturn fixed(Math.pow(x,y))\n\t},\n\texp(x){\n\t\treturn fixed(Math.exp(x))\n\t},\n\tcos(x){\n\t\treturn fixed(Math.cos(x))\n\t},\n\tsin(x){\n\t\treturn fixed(Math.sin(x))\n\t},\n\n};","import fixed from \"./fixed\";\nimport math from \"./math\";\nimport Complex from \"Complex\";\n\nconst f = fixed;\n\nfunction normalizing(data) {\n  const arrY = data.map((e) => e.y);\n  let fi_max = arrY[0];\n  for (let i = 1; i < arrY.length; i++) {\n    if (Math.abs(arrY[i]) > Math.abs(fi_max)) {\n      fi_max = arrY[i];\n    }\n  }\n  const fi_dop = fi_max * math.pow(10, -7);\n  return data.map((e) => {\n    const newEl = { ...e };\n    if (newEl.y === 0) {\n      newEl.y = fi_dop;\n    }\n    return newEl;\n  });\n}\n\nexport default function calcReaction(inputSignalData, chainVar, centralFraq) {\n  const signalData = normalizing(inputSignalData);\n  console.log(signalData, chainVar, centralFraq);\n  const { Cz, N1, N2, N3, N4, a1s, a2e, a3x, a4y, w2e, w4y } = chainVar;\n  const Kz = (P, exceptions = {}) => {\n    return f(\n      f(\n        math.prod(1, N3, (i) => (exceptions.N3 !== i ? P + a3x[i] : 1)) *\n          math.prod(1, N4, (i) =>\n            exceptions.N4 !== i\n              ? math.pow(P, 2) +\n                f(2 * a4y[i] * P) +\n                math.pow(a4y[i], 2) +\n                math.pow(w4y[i], 2)\n              : 1\n          )\n      ) /\n        f(\n          Cz *\n            math.prod(1, N1, (i) => (exceptions.N1 !== i ? P + a1s[i] : 1)) *\n            math.prod(1, N2, (i) =>\n              exceptions.N2 !== i\n                ? math.pow(P, 2) +\n                  f(2 * a2e[i] * P) +\n                  math.pow(a2e[i], 2) +\n                  math.pow(w2e[i], 2)\n                : 1\n            )\n        )\n    );\n  };\n  const KzComplex = (P, exceptions = {}) => {\n    P.finalize();\n    return math\n      .prodComplex(1, N3, (i) =>\n        exceptions.N3 !== i ? P.add(a3x[i]) : Complex.from(1)\n      )\n      .multiply(\n        math.prodComplex(1, N4, (i) =>\n          exceptions.N4 !== i\n            ? P.pow(2)\n                .add(P.multiply(2 * a4y[i]))\n                .add(math.pow(a4y[i], 2))\n                .add(math.pow(w4y[i], 2))\n            : Complex.from(1)\n        )\n      )\n      .divide(\n        math\n          .prodComplex(1, N1, (i) =>\n            exceptions.N1 !== i ? P.add(a1s[i]) : Complex.from(1)\n          )\n          .multiply(\n            math.prodComplex(1, N2, (i) =>\n              exceptions.N2 !== i\n                ? P.pow(2)\n                    .add(P.multiply(2 * a2e[i]))\n                    .add(math.pow(a2e[i], 2))\n                    .add(math.pow(w2e[i], 2))\n                : Complex.from(1)\n            )\n          )\n          .multiply(Cz)\n      );\n  };\n  const Psi = [];\n  const N = signalData.length - 1;\n  const T = f(signalData[N - 1].x * centralFraq);\n  const delta_t = signalData[1]\n    ? f((signalData[1].x - signalData[0].x) * centralFraq)\n    : 0;\n\n  const fi_n = (n) => signalData[n].y;\n  const fi_n1 = (n) => signalData[n + 1].y;\n\n  const a_n0 = (n) =>\n    f(\n      f(fi_n1(n) - fi_n(n)) /\n        f(delta_t * f(fi_n(n) - f(n * f(fi_n1(n) - fi_n(n)))))\n    );\n  const a_n1 = (n) => f(f(fi_n1(n) - fi_n(n)) / f(delta_t * fi_n(n)));\n  const a_n2 = (n) => f(f(fi_n1(n) - fi_n(n)) / f(delta_t * fi_n1(n)));\n\n  const C_n0 = (n) => f(-1 / f(fi_n(n) - f(f(fi_n1(n) - fi_n(n)) * n)));\n  const C_n1 = (n) => f(-1 / fi_n(n));\n  const C_n2 = (n) => f(-1 / fi_n1(n));\n\n  const R_0_ozo = (n, exceptions = {}) =>\n    f(\n      (!exceptions.a_n0 ? a_n0(n) : 1) *\n        (!exceptions.N3 ? math.prod(1, N3, (i) => a3x[i]) : 1) *\n        math.prod(1, N4, (i) => math.pow(a4y[i], 2) + math.pow(w4y[i], 2))\n    ) /\n    f(\n      C_n0(n) *\n        Cz *\n        math.prod(1, N1, (i) => a1s[i]) *\n        math.prod(1, N2, (i) => math.pow(a2e[i], 2) + math.pow(w2e[i], 2))\n    );\n\n  const R_1_ozo = (n) => {\n    const exceptions = {};\n    if (fi_n(n) === fi_n1(n)) {\n      exceptions.a_n0 = true;\n    }\n    if (Object.values(a3x).some((e) => e === 0)) {\n      exceptions.N3 = true;\n    }\n\n    return f(\n      R_0_ozo(n, exceptions) *\n        (Object.keys(exceptions).length === 0\n          ? f(\n              math.sum(1, N3, (i) => 1 / a3x[i]) +\n                1 / a_n0(n) +\n                math.sum(\n                  1,\n                  N4,\n                  (i) =>\n                    f(2 * a4y[i]) / f(math.pow(a4y[i], 2) + math.pow(w4y[i], 2))\n                ) -\n                math.sum(1, N1, (i) => 1 / a1s[i]) -\n                math.sum(\n                  1,\n                  N2,\n                  (i) =>\n                    f(2 * a2e[i]) / f(math.pow(a2e[i], 2) + math.pow(w2e[i], 2))\n                )\n            )\n          : 1)\n    );\n  };\n  const R_0_jz1s = (a_nj, C_nj, i) =>\n    f(\n      f(f(-a1s[i] + a_nj) / f(C_nj * math.pow(-a1s[i], 2))) *\n        Kz(-a1s[i], {\n          N1: i,\n        })\n    );\n  const R_0_1z1s = (n, i) => R_0_jz1s(a_n1(n), C_n1(n), i);\n  const R_0_2z1s = (n, i) => R_0_jz1s(a_n2(n), C_n2(n), i);\n\n  const R_0_jz2eComplex = (a_nj, C_nj, i) => {\n\t\tconst P = Complex.from(-a2e[i], w2e[i]).finalize();\n    return P.add(a_nj)\n      .divide(P.pow(2).multiply(C_nj))\n      .multiply(\n        KzComplex(P, {\n          N2: i,\n        })\n      );\n  };\n  const R_0_1z2e = (n, i) => f(R_0_jz2eComplex(a_n1(n), C_n1(n), i).abs());\n  const fi_0_1z2e = (n, i) => f(R_0_jz2eComplex(a_n1(n), C_n1(n), i).angle());\n  const R_0_2z2e = (n, i) => f(R_0_jz2eComplex(a_n2(n), C_n2(n), i).abs());\n  const fi_0_2z2e = (n, i) => f(R_0_jz2eComplex(a_n2(n), C_n2(n), i).angle());\n\n  const M_11s = (i) => f(math.pow(1 - math.exp(a1s[i] * T), -1));\n  const M_21s = (i) => f(math.pow(math.exp(-a1s[i] * T) - 1, -1));\n  const _M_and_N_znam = (i) =>\n    f(\n      math.exp(2 * a2e[i] * T) -\n        2 * math.exp(a2e[i] * T) * math.cos(w2e[i] * T) +\n        1\n    );\n  const M_12e = (i) =>\n    f(f(math.exp(a2e[i] * T) * math.sin(w2e[i] * T)) / _M_and_N_znam(i));\n  const N_12e = (i) =>\n    f(f(1 - math.exp(a2e[i] * T) * math.cos(w2e[i] * T)) / _M_and_N_znam(i));\n  const N_22e = (i) =>\n    f(\n      f(\n        math.exp(a2e[i] * T) * math.cos(w2e[i] * T) - math.exp(2 * a2e[i] * T)\n      ) / _M_and_N_znam(i)\n    );\n\n  for (let n = 0; n <= N - 1; n++) {\n    const sum1 = math.sum(\n      1,\n      N1,\n      (s) =>\n        f(\n          f(M_21s(s) * R_0_1z1s(n, s)) -\n            f(M_11s(s) * R_0_2z1s(n, s) * math.exp(a1s[s] * delta_t))\n        ) +\n        math.sum(\n          n + 1,\n          N - 1,\n          (k) =>\n            M_11s(s) *\n            f(\n              f(R_0_1z1s(k, s) * math.exp(a1s[s] * (k - n) * delta_t)) -\n                f(R_0_2z1s(k, s) * math.exp(a1s[s] * (k - n + 1) * delta_t))\n            )\n        ) +\n        math.sum(\n          1,\n          n,\n          (k) =>\n            M_21s(s) *\n            f(\n              f(R_0_1z1s(n - k, s) * math.exp(-a1s[s] * k * delta_t)) -\n                f(R_0_2z1s(n - k, s) * math.exp(-a1s[s] * (k - 1) * delta_t))\n            )\n        )\n    );\n    const sum2 = math.sum(\n      1,\n      N2,\n      (l) =>\n        f(\n          f(\n            f(R_0_1z2e(n, l) / w2e[l]) *\n              f(\n                f(N_22e(l) * math.sin(fi_0_1z2e(n, l))) -\n                  f(M_12e(l) * math.cos(fi_0_1z2e(n, l)))\n              )\n          ) -\n            f(\n              f(R_0_2z2e(n, l) / w2e[l]) *\n                math.exp(a2e[l] * delta_t) *\n                f(\n                  N_12e(l) * math.sin(-w2e[l] * delta_t + fi_0_2z2e(n, l)) -\n                    M_12e(l) * math.cos(-w2e[l] * delta_t + fi_0_2z2e(n, l))\n                )\n            )\n        ) +\n        math.sum(n + 1, N - 1, (k) =>\n          f(\n            f(R_0_1z2e(k, l) / w2e[l]) *\n              math.exp(a2e[l] * (k - n) * delta_t) *\n              f(\n                f(\n                  N_12e(l) *\n                    math.sin(w2e[l] * (n - k) * delta_t + fi_0_1z2e(k, l))\n                ) -\n                  f(\n                    M_12e(l) *\n                      math.cos(w2e[l] * (n - k) * delta_t + fi_0_1z2e(k, l))\n                  )\n              ) -\n              f(\n                f(R_0_2z2e(k, l) / w2e[l]) *\n                  math.exp(a2e[l] * (k - n + 1) * delta_t) *\n                  f(\n                    N_12e(l) *\n                      math.sin(\n                        w2e[l] * (n - k - 1) * delta_t + fi_0_2z2e(k, l)\n                      ) -\n                      M_12e(l) *\n                        math.cos(\n                          w2e[l] * (n - k - 1) * delta_t + fi_0_2z2e(k, l)\n                        )\n                  )\n              )\n          )\n        ) +\n        math.sum(1, n, (k) =>\n          f(\n            f(R_0_1z2e(n - k, l) / w2e[l]) *\n              math.exp(-a2e[l] * k * delta_t) *\n              f(\n                N_22e(l) *\n                  math.sin(w2e[l] * k * delta_t + fi_0_1z2e(n - k, l)) -\n                  M_12e(l) *\n                    math.cos(w2e[l] * k * delta_t + fi_0_1z2e(n - k, l))\n              ) -\n              f(\n                f(R_0_2z2e(n - k, l) / w2e[l]) *\n                  math.exp(-a2e[l] * (k - 1) * delta_t) *\n                  f(\n                    N_22e(l) *\n                      math.sin(\n                        w2e[l] * (k - 1) * delta_t + fi_0_2z2e(n - k, l)\n                      ) -\n                      M_12e(l) *\n                        math.cos(\n                          w2e[l] * (k - 1) * delta_t + fi_0_2z2e(n - k, l)\n                        )\n                  )\n              )\n          )\n        )\n    );\n    const Psi_n = -f(R_0_ozo(n) * n * delta_t) - R_1_ozo(n) + sum1 + sum2;\n\n    // console.log(\"-----------------\", n, \"---------------\");\n    // console.log(\"fi_n/fi_n+1\", fi_n(n), fi_n1(n));\n    // console.log(\"a_n0(1,2)\", a_n0(n), a_n1(n), a_n2(n));\n    // console.log(\"C_n0(1,2)\", C_n0(n), C_n1(n), C_n2(n));\n    // console.log(\"R_0/1_ozo\", R_0_ozo(n), R_1_ozo(n));\n    // console.log(\"R_0_jz1s\", R_0_1z1s(n, 1), R_0_2z1s(n, 1));\n    // console.log(\"R_0_1z2e/fi_0_1z2e\", R_0_1z2e(n, 1), fi_0_1z2e(n, 1));\n    // console.log(\"R_0_2z2e/fi_0_2z2e\", R_0_2z2e(n, 1), fi_0_2z2e(n, 1));\n    // console.log(\"M1(2)1s\", M_11s(1), M_21s(1));\n    // console.log(\"M(N)12e\", M_12e(1), N_12e(1), N_22e(1));\n    // console.log(\"sum1\", sum1);\n    // console.log(\"sum2\", sum2);\n    Psi.push({ x: signalData[n].x, y: f(Psi_n) });\n  }\n  console.log(Psi);\n  return Psi;\n}\n","import fixed from \"./fixed\";\nimport math from \"./math\";\n\nexport default ({ func, start = 0, end, numberPoints }) => {\n  const data = [];\n  const pointsFraq = fixed((end - start) / numberPoints);\n\n  for (let x = start; x <= end; x = fixed(x + pointsFraq)) {\n    let y;\n    if (func) {\n      y = parseMathJSON({ json: func, start, end, fraq: pointsFraq }, { t: x });\n    }\n    data.push({ x, y });\n  }\n  return data;\n};\nfunction parseMathJSON({ json, start = 0, end = 0, fraq }, mainVariables = {}) {\n  const main = (obj, variables) => {\n    try {\n      if (obj === undefined) return;\n      const _main = (o, v = variables) => main(o, v);\n      if (typeof obj === \"number\") {\n        return obj;\n      } else if (\n        obj.sup &&\n        !(obj.fn === \"sum\" || obj.fn === \"prod\" || obj.fn === \"cot\")\n      ) {\n        return fixed(\n          Math.pow(\n            fixed(_main({ ...obj, sup: undefined })),\n            fixed(_main(obj.sup))\n          )\n        );\n      } else if (obj.fn) {\n        if (obj.arg) {\n          if (obj.fn === \"multiply\") {\n            return fixed(obj.arg.reduce((acc, e) => acc * _main(e), 1));\n          } else if (obj.fn === \"subtract\") {\n            return fixed(\n              _main(obj.arg[0]) - (obj.arg[1] ? _main(obj.arg[1]) : 0)\n            );\n          } else if (obj.fn === \"add\") {\n            return fixed(obj.arg.reduce((acc, e) => acc + _main(e), 0));\n          } else if (obj.fn === \"divide\") {\n            if (obj.arg[0] === undefined || obj.arg[1] === undefined)\n              return NaN;\n            return fixed(_main(obj.arg[0]) / _main(obj.arg[1]));\n          } else if (obj.fn === \"sin\") {\n            return fixed(Math.sin(_main(obj.arg[0])));\n          } else if (obj.fn === \"arcsin\") {\n            return fixed(Math.asin(_main(obj.arg[0])));\n          } else if (obj.fn === \"cos\") {\n            return fixed(Math.cos(_main(obj.arg[0])));\n          } else if (obj.fn === \"arccos\") {\n            return fixed(Math.acos(_main(obj.arg[0])));\n          } else if (obj.fn === \"tan\") {\n            return fixed(Math.tan(_main(obj.arg[0])));\n          } else if (obj.fn === \"arctan\") {\n            return fixed(Math.atan(_main(obj.arg[0])));\n          } else if (obj.fn === \"ln\") {\n            if (obj.sub !== undefined) {\n              return fixed(\n                Math.log(_main(obj.arg[0])) / Math.log(_main(obj.sub))\n              );\n            }\n            return fixed(Math.log(_main(obj.arg[0])));\n          } else if (\n            obj.fn === \"log\" &&\n            obj.arg !== undefined &&\n            obj.sub !== undefined\n          ) {\n            return fixed(\n              Math.log(_main(obj.arg[0])) / Math.log(_main(obj.sub))\n            );\n          } else if (obj.fn === \"negate\") {\n            if (obj.arg[0] === undefined) return NaN;\n            return fixed(-1 * _main(obj.arg[0]));\n          } else if (obj.fn === \"abs\") {\n            if (obj.arg[0] === undefined) return NaN;\n            return fixed(Math.abs(_main(obj.arg[0])));\n          } else if (obj.fn === \"sqrt\") {\n            if (obj.arg[0] === undefined) return NaN;\n            return fixed(Math.sqrt(_main(obj.arg[0])));\n          } else if (obj.fn === \"sign\") {\n            return fixed(Math.sign(_main(obj.arg[0])));\n          } else if (obj.fn === \"ceil\" && obj.arg) {\n            return fixed(Math.ceil(_main(obj.arg[0])));\n          } else if (obj.fn === \"floor\" && obj.arg) {\n            return fixed(Math.floor(_main(obj.arg[0])));\n          } else if (obj.fn === \"round\" && obj.arg) {\n            return fixed(Math.round(_main(obj.arg[0])));\n          } else if (\n            (obj.fn === \"sum\" || obj.fn === \"prod\") &&\n            obj.arg[0] &&\n            obj.sup &&\n            obj.sub &&\n            obj.sub.fn === \"equal\" &&\n            obj.sub.arg[1] &&\n            obj.sub.arg[0].sym\n          ) {\n            let sumOrProd;\n            if (obj.fn === \"sum\") {\n              sumOrProd = math.sum;\n            } else if (obj.fn === \"prod\") {\n              sumOrProd = math.prod;\n            }\n            return fixed(\n              sumOrProd(_main(obj.sub.arg[1]), _main(obj.sup), (i) =>\n                _main(obj.arg[0], { ...variables, [obj.sub.arg[0].sym]: i })\n              )\n            );\n          } else if (\n            (obj.fn === \"differentialD\" &&\n              obj.arg[0] &&\n              obj.arg[0].fn === \"cot\" &&\n              obj.arg[1]) ||\n            (obj.fn === \"cot\" &&\n              obj.arg[0] &&\n              obj.arg[0].fn === \"differentialD\" &&\n              obj.arg[0].arg[0] &&\n              obj.arg[0].arg[1])\n          ) {\n            // fexed \\int - integral\n            let sub, sup, body, sym;\n            if (obj.fn === \"differentialD\") {\n              sub = obj.arg[0].sub || start;\n              sup = obj.arg[0].sup || end;\n              body = obj.arg[0].arg[0];\n              sym = obj.arg[1].sym;\n            } else if ((obj.fn = \"cot\")) {\n              sub = obj.sub || start;\n              sup = obj.sup || end;\n              body = obj.arg[0].arg[0];\n              sym = obj.arg[0].arg[1].sym;\n            }\n            if (\n              sub === undefined ||\n              sup === undefined ||\n              body === undefined ||\n              sym === undefined\n            )\n              return;\n            return fixed(\n              math.integral(_main(sub), _main(sup), fraq, (i) =>\n                _main(body, {\n                  ...variables,\n                  [sym]: i,\n                })\n              )\n            );\n          } else if (obj.fn === \"brace\" && obj.arg[0]) {\n            if (obj.arg[0].fn === \"list\") {\n              return obj.arg[0].arg.some(\n                (a) => fixed(_main(a)) === variables.t\n              );\n            } else {\n              return fixed(_main(obj.arg[0])) === variables.t;\n            }\n          } else if (obj.fn === \"list\") {\n            if (obj.arg.length > 1) {\n              const parentheses = [];\n              const squareBrackets = [];\n              for (let i = 1; i < obj.arg.length; i++) {\n                const cur = _main(obj.arg[i]);\n                const next = obj.arg[i + 1] && _main(obj.arg[i + 1]);\n                if (typeof cur === \"number\" && typeof next === \"number\") {\n                  parentheses.push([cur, next]);\n                  i++;\n                } else if (typeof cur === \"boolean\") {\n                  squareBrackets.push(cur);\n                }\n              }\n              if (\n                parentheses.some(\n                  (e) => variables.t > e[0] && variables.t < e[1]\n                ) ||\n                squareBrackets.some((e) => e === true)\n              ) {\n                return fixed(_main(obj.arg[0]));\n              }\n            }\n          } else if (\n            obj.fn.includes(\"brack\") &&\n            obj.arg[0] &&\n            obj.arg[0].fn === \"list\" &&\n            obj.arg[0].arg &&\n            obj.arg[0].arg.length === 2\n          ) {\n            const rightValue = [\n              fixed(_main(obj.arg[0].arg[0])),\n              fixed(_main(obj.arg[0].arg[1])),\n            ];\n            if (obj.fn === \"\\\\lbrack\\\\rbrack\") {\n              return (\n                variables.t >= rightValue[0] && variables.t <= rightValue[1]\n              );\n            } else if (obj.fn === \"(\\\\rbrack\") {\n              return (\n                variables.t > rightValue[0] && variables.t <= rightValue[1]\n              );\n            } else if (obj.fn === \"\\\\lbrack)\") {\n              return (\n                variables.t >= rightValue[0] && variables.t < rightValue[1]\n              );\n            }\n          } else if (obj.fn === \"lt\" && obj.arg.length === 2) {\n            return fixed(_main(obj.arg[0])) < fixed(_main(obj.arg[1]));\n          } else if (obj.fn === \"gt\" && obj.arg.length === 2) {\n            return fixed(_main(obj.arg[0])) > fixed(_main(obj.arg[1]));\n          } else if (obj.fn === \"ge\" && obj.arg.length === 2) {\n            return fixed(_main(obj.arg[0])) >= fixed(_main(obj.arg[1]));\n          } else if (obj.fn === \"similar\" && obj.arg.length === 2) {\n            // it is fixed \\le - <=\n            return fixed(_main(obj.arg[0])) <= fixed(_main(obj.arg[1]));\n          } else if (obj.fn === \"equal\" && obj.arg.length === 2) {\n            return fixed(_main(obj.arg[0])) === fixed(_main(obj.arg[1]));\n          } else if (obj.fn === \"ne\" && obj.arg.length === 2) {\n            return fixed(_main(obj.arg[0])) !== fixed(_main(obj.arg[1]));\n          } else if (obj.fn === \"elementof\" && obj.arg.length === 2) {\n            const leftValue = fixed(_main(obj.arg[0]));\n            if (obj.arg[1].fn === \"list\" && obj.arg[1].arg.length === 2) {\n              return (\n                leftValue > fixed(_main(obj.arg[1].arg[0])) &&\n                leftValue < fixed(_main(obj.arg[1].arg[1]))\n              );\n            } else if (\n              obj.arg[1].fn &&\n              obj.arg[1].fn.includes(\"brack\") &&\n              obj.arg[1].arg[0] &&\n              obj.arg[1].arg[0].fn === \"list\" &&\n              obj.arg[1].arg[0].arg &&\n              obj.arg[1].arg[0].arg.length === 2\n            ) {\n              const rightValue = [\n                fixed(_main(obj.arg[1].arg[0].arg[0])),\n                fixed(_main(obj.arg[1].arg[0].arg[1])),\n              ];\n              if (obj.arg[1].fn === \"\\\\lbrack\\\\rbrack\") {\n                return leftValue >= rightValue[0] && leftValue <= rightValue[1];\n              } else if (obj.arg[1].fn === \"(\\\\rbrack\") {\n                return leftValue > rightValue[0] && leftValue <= rightValue[1];\n              } else if (obj.arg[1].fn === \"\\\\lbrack)\") {\n                return leftValue >= rightValue[0] && leftValue < rightValue[1];\n              }\n            } else if (obj.arg[1].fn === \"brace\" && obj.arg[1].arg[0]) {\n              if (obj.arg[1].arg[0].fn === \"list\") {\n                return obj.arg[1].arg[0].arg.some(\n                  (a) => fixed(_main(a)) === leftValue\n                );\n              } else {\n                return fixed(_main(obj.arg[1].arg[0])) === leftValue;\n              }\n            } else {\n              const rightValue = _main(obj.arg[1]);\n              if (rightValue) {\n                return fixed(rightValue) === leftValue;\n              }\n            }\n          } else if (obj.fn === \"f\") {\n            if (obj.arg.length === 1) {\n              const newT = fixed(_main(obj.arg[0]));\n              if (newT !== variables.t && newT >= start && newT <= end) {\n                const y = _main(json, { t: newT });\n                return y && fixed(y);\n              }\n            }\n          }\n        } else if (obj.args) {\n          if (obj.fn === \"cases\") {\n            for (let i = 0; i < obj.args.length; i++) {\n              if (obj.args[i][0]) {\n                if (\n                  obj.args[i][0].fn === \"f\" &&\n                  obj.args[i][0].arg &&\n                  obj.args[i][0].arg.length === 1\n                ) {\n                  const newT = fixed(_main(obj.args[i][0].arg[0]));\n                  if (newT !== variables.t && newT >= start && newT <= end) {\n                    const y = _main(obj, { t: newT });\n                    return y && fixed(y);\n                  }\n                }\n                const responseComprasion = _main(obj.args[i][0]);\n                if (responseComprasion !== undefined) {\n                  return responseComprasion;\n                }\n              }\n            }\n          }\n        } else {\n          return NaN;\n        }\n      } else if (obj.group) {\n        return fixed(_main(obj.group));\n      } else if (obj.num) {\n        return +obj.num;\n      } else if (obj.sym) {\n        let value = variables[obj.sym];\n        if (value === undefined) {\n          if (obj.sym === \"π\") {\n            value = Math.PI;\n          } else if (obj.sym === \"∞\") {\n            value = Infinity;\n          } else if (obj.sym === \"∅\") {\n            value = undefined;\n          } else if (obj.sym === \"e\") {\n            value = Math.E;\n          } else {\n            value = NaN;\n          }\n        }\n        return value;\n      }\n    } catch (err) {\n      console.error(err);\n    }\n  };\n  return main(json, mainVariables);\n}\n","import calcReaction from \"../helpers/calcReaction\";\nimport calcFunc from \"../helpers/calcFunc\";\nimport calcLeaps from \"../helpers/calcLeaps\";\n\nconst getChartData = (chart, range) => {\n  const { start, end, numberPoints } = range;\n  if (chart.initial) {\n    if (chart.initial.type === \"table\") {\n      return calcLeaps({\n        leaps: chart.initial.leaps,\n        start,\n        end,\n        numberPoints,\n      });\n    } else if (chart.initial.type === \"func\") {\n      return calcFunc({\n        func: chart.initial.func,\n        start,\n        end,\n        numberPoints,\n      });\n    } else if (chart.initial.type === \"result\") {\n      const signalData = getChartData(chart.initial.signal, range);\n      return calcReaction(\n        signalData,\n        chart.initial.chain,\n        chart.initial.centralFraq\n      );\n    }\n  } else if (chart.data) {\n    return chart.data.filter(({ x }) => x >= start && x < end);\n  }\n  return [];\n};\nconst calc =(charts, { start, end, numberPoints })=>{\n\tconst obj = {};\n    charts\n      .forEach((chart) => {\n        const data = getChartData(chart, { start, end, numberPoints });\n        data.forEach((e) => {\n          let x = e.x;\n          let y = e.y;\n          if (y === -Infinity || y === Infinity || y === NaN) {\n            y = undefined;\n          }\n          if (x !== undefined && y !== undefined) {\n            if (!obj[x]) obj[x] = {};\n            obj[x][chart.id] = y;\n          }\n        });\n      });\n    return Object.entries(obj)\n      .map((e) => ({ x: +e[0], ...e[1] }))\n      .sort((a, b) => a.x - b.x);\n}\naddEventListener(\"message\", (e) => {\n  const msg = e.data;\n  if (msg.type === \"calc\") {\n\t\tconst data = calc(msg.charts,msg.range)\n\t\tpostMessage({\n\t\t\ttype:'calc',\n\t\t\tdata\n\t\t})\n  }\n});\n","import fixed from \"./fixed\";\nexport default ({ leaps = [], start = 0, end, numberPoints }) => {\n  const data = [];\n  const pointsFraq = fixed((end - start) / numberPoints);\n\n  for (let x = start; x <= end; x = fixed(x + pointsFraq)) {\n    let y = 0;\n    for (let i = 0; i < leaps.length; i++) {\n      const { amplitude, delay, fraquency, phase } = leaps[i];\n      if (x >= delay) {\n        if (amplitude) {\n          if (fraquency) {\n            y = fixed(\n              y +\n                fixed(\n                  amplitude *\n                    Math.cos(\n                      fixed(x * fraquency * 2 * Math.PI) + fixed(phase * (Math.PI / 180))\n                    )\n                )\n            );\n          } else {\n            y = fixed(y + amplitude);\n          }\n        }\n      }\n    }\n    data.push({ x, y });\n\t}\n  return data;\n};\n"],"sourceRoot":""}