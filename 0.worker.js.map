{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./node_modules/Complex/lib/Complex.js","webpack:///./src/helpers/fixed.js","webpack:///./src/helpers/math.js","webpack:///./src/helpers/calcReaction.js","webpack:///./src/helpers/calcFunc.js","webpack:///./src/worker/main.js","webpack:///./src/helpers/calcLeaps.js"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","Complex","real","im","this","fromRect","a","b","fromPolar","phi","parts","split","Math","cos","sin","toPrecision","k","toFixed","finalize","writable","magnitude","sqrt","angle","atan2","conjugate","negate","multiply","z","from","divide","divident","pow","add","subtract","result","clone","log","exp","abs","sgn","PI","cosh","sinh","tan","tanh","toString","polar","ret","absIm","equals","alias","arg","phase","conj","mult","dev","sub","extend","match","isNaN","one","e","x","E","number","to","callback","Infinity","sum","fixed","pr","dt","y","f","calcReaction","inputSignalData","chainVar","centralFraq","signalData","data","arrY","map","fi_max","length","fi_dop","math","newEl","normalizing","Cz","N1","N2","N3","N4","a1s","a2e","a3x","a4y","w2e","w4y","calc_R_0_ozo","a_n0","C_n0","exceptions","exc","calc_R_1_ozo","is_fi_n_equal_fi_n1","ignore_a_n0","useMain","values","some","R_0_jz1s","a_nj","C_nj","P","Kz","R_0_jz2eComplex","KzComplex","Psi","N","T","delta_t","R_0_ozo","R_1_ozo","R_0_1z1s","R_0_2z1s","R_0_1z2e","fi_0_1z2e","R_0_2z2e","fi_0_2z2e","M_11s","M_21s","M_12e","N_12e","N_22e","fi_n","fi_n1","a_n1","a_n2","C_n1","C_n2","part_znam_a_n0_and_C_n0","ignore_a0","R_0_jz2eComplex_result1","R_0_jz2eComplex_result2","_M_and_N_znam","sum1","sum2","Psi_n","push","parseMathJSON","json","start","end","fraq","mainVariables","main","obj","variables","undefined","_main","v","sup","fn","reduce","acc","NaN","asin","acos","atan","sign","ceil","floor","round","sumOrProd","sym","body","parentheses","squareBrackets","cur","next","includes","rightValue","leftValue","newT","args","responseComprasion","group","num","err","console","error","getChartData","chart","range","numberPoints","leaps","pointsFraq","amplitude","delay","fraquency","calcLeaps","func","calcFunc","calc","charts","addEventListener","msg","postMessage","type"],"mappings":"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","file":"0.worker.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 1);\n","\nvar Complex = function(real, im){\n\tthis.real = real;\n\tthis.im = im;\n};\n\nvar prototype = Complex.prototype = {\n\n\tfromRect: function(a, b){\n\t\tthis.real = a;\n\t\tthis.im = b;\n\t\treturn this;\n\t},\n\n\tfromPolar: function(r, phi){\n\t\tif (typeof r == 'string'){\n\t\t\tvar parts = r.split(' ');\n\t\t\tr = parts[0];\n\t\t\tphi = parts[1];\n\t\t}\n\t\treturn this.fromRect(\n\t\t\tr * Math.cos(phi),\n\t\t\tr * Math.sin(phi)\n\t\t);\n\t},\n\n\ttoPrecision: function(k){\n\t\treturn this.fromRect(\n\t\t\tthis.real.toPrecision(k),\n\t\t\tthis.im.toPrecision(k)\n\t\t);\n\t},\n\n\ttoFixed: function(k){\n\t\treturn this.fromRect(\n\t\t\tthis.real.toFixed(k),\n\t\t\tthis.im.toFixed(k)\n\t\t);\n\t},\n\n\tfinalize: function(){\n\t\tthis.fromRect = function(a, b){\n\t\t\treturn new Complex(a, b);\n\t\t};\n\t\tif (Object.defineProperty){\n\t\t\tObject.defineProperty(this, 'real', {writable: false, value: this.real});\n\t\t\tObject.defineProperty(this, 'im', {writable: false, value: this.im});\n\t\t}\n\t\treturn this;\n\t},\n\n\tmagnitude: function(){\n\t\tvar a = this.real, b = this.im;\n\t\treturn Math.sqrt(a * a + b * b);\n\t},\n\n\tangle: function(){\n\t\treturn Math.atan2(this.im, this.real);\n\t},\n\n\tconjugate: function(){\n\t\treturn this.fromRect(this.real, -this.im);\n\t},\n\n\tnegate: function(){\n\t\treturn this.fromRect(-this.real, -this.im);\n\t},\n\n\tmultiply: function(z){\n\t\tz = Complex.from(z);\n\t\tvar a = this.real, b = this.im;\n\t\treturn this.fromRect(\n\t\t\tz.real * a - z.im * b,\n\t\t\tb * z.real + z.im * a\n\t\t);\n\t},\n\n\tdivide: function(z){\n\t\tz = Complex.from(z);\n\t\tvar divident = (Math.pow(z.real, 2) + Math.pow(z.im, 2)),\n\t\t\ta = this.real, b = this.im;\n\t\treturn this.fromRect(\n\t\t\t(a * z.real + b * z.im) / divident,\n\t\t\t(b * z.real - a * z.im) / divident\n\t\t);\n\t},\n\n\tadd: function(z){\n\t\tz = Complex.from(z);\n\t\treturn this.fromRect(this.real + z.real, this.im + z.im);\n\t},\n\n\tsubtract: function(z){\n\t\tz = Complex.from(z);\n\t\treturn this.fromRect(this.real - z.real, this.im - z.im);\n\t},\n\n\tpow: function(z){\n\t\tz = Complex.from(z);\n\t\tvar result = z.multiply(this.clone().log()).exp(); // z^w = e^(w*log(z))\n\t\treturn this.fromRect(result.real, result.im);\n\t},\n\n\tsqrt: function(){\n\t\tvar abs = this.magnitude(),\n\t\t\tsgn = this.im < 0 ? -1 : 1;\n\t\treturn this.fromRect(\n\t\t\tMath.sqrt((abs + this.real) / 2),\n\t\t\tsgn * Math.sqrt((abs - this.real) / 2)\n\t\t);\n\t},\n\n\tlog: function(k){\n\t\tif (!k) k = 0;\n\t\treturn this.fromRect(\n\t\t\tMath.log(this.magnitude()),\n\t\t\tthis.angle() + k * 2 * Math.PI\n\t\t);\n\t},\n\n\texp: function(){\n\t\treturn this.fromPolar(\n\t\t\tMath.exp(this.real),\n\t\t\tthis.im\n\t\t);\n\t},\n\n\tsin: function(){\n\t\tvar a = this.real, b = this.im;\n\t\treturn this.fromRect(\n\t\t\tMath.sin(a) * cosh(b),\n\t\t\tMath.cos(a) * sinh(b)\n\t\t);\n\t},\n\n\tcos: function(){\n\t\tvar a = this.real, b = this.im;\n\t\treturn this.fromRect(\n\t\t\tMath.cos(a) * cosh(b),\n\t\t\tMath.sin(a) * sinh(b) * -1\n\t\t);\n\t},\n\n\ttan: function(){\n\t\tvar a = this.real, b = this.im,\n\t\t\tdivident = Math.cos(2 * a) + cosh(2 * b);\n\t\treturn this.fromRect(\n\t\t\tMath.sin(2 * a) / divident,\n\t\t\tsinh(2 * b) / divident\n\t\t);\n\t},\n\n\tsinh: function(){\n\t\tvar a = this.real, b = this.im;\n\t\treturn this.fromRect(\n\t\t\tsinh(a) * Math.cos(b),\n\t\t\tcosh(a) * Math.sin(b)\n\t\t);\n\t},\n\n\tcosh: function(){\n\t\tvar a = this.real, b = this.im;\n\t\treturn this.fromRect(\n\t\t\tcosh(a) * Math.cos(b),\n\t\t\tsinh(a) * Math.sin(b)\n\t\t);\n\t},\n\n\ttanh: function(){\n\t\tvar a = this.real, b = this.im,\n\t\t\tdivident = cosh(2 * a) + Math.cos(2 * b);\n\t\treturn this.fromRect(\n\t\t\tsinh(2 * a) / divident,\n\t\t\tMath.sin(2 * b) / divident\n\t\t);\n\t},\n\n\tclone: function(){\n\t\treturn new Complex(this.real, this.im);\n\t},\n\n\ttoString: function(polar){\n\t\tif (polar) return this.magnitude() + ' ' + this.angle();\n\n\t\tvar ret = '', a = this.real, b = this.im;\n\t\tif (a) ret += a;\n\t\tif (a && b || b < 0) ret += b < 0 ? '-' : '+';\n\t\tif (b){\n\t\t\tvar absIm = Math.abs(b);\n\t\t\tif (absIm != 1) ret += absIm;\n\t\t\tret += 'i';\n\t\t}\n\t\treturn ret || '0';\n\t},\n\n\tequals: function(z){\n\t\tz = Complex.from(z);\n\t\treturn (z.real == this.real && z.im == this.im);\n\t}\n\n};\n\nvar alias = {\n\tabs: 'magnitude',\n\targ: 'angle',\n\tphase: 'angle',\n\tconj: 'conjugate',\n\tmult: 'multiply',\n\tdev: 'divide',\n\tsub: 'subtract'\n};\n\nfor (var a in alias) prototype[a] = prototype[alias[a]];\n\nvar extend = {\n\n\tfrom: function(real, im){\n\t\tif (real instanceof Complex) return new Complex(real.real, real.im);\n\t\tvar type = typeof real;\n\t\tif (type == 'string'){\n\t\t\tif (real == 'i') real = '0+1i';\n\t\t\tvar match = real.match(/(\\d+)?([\\+\\-]\\d*)[ij]/);\n\t\t\tif (match){\n\t\t\t\treal = match[1];\n\t\t\t\tim = (match[2] == '+' || match[2] == '-') ? match[2] + '1' : match[2];\n\t\t\t}\n\t\t}\n\t\treal = +real;\n\t\tim = +im;\n\t\treturn new Complex(isNaN(real) ? 0 : real, isNaN(im) ? 0 : im);\n\t},\n\n\tfromPolar: function(r, phi){\n\t\treturn new Complex(1, 1).fromPolar(r, phi);\n\t},\n\n\ti: new Complex(0, 1).finalize(),\n\n\tone: new Complex(1, 0).finalize()\n\n};\n\nfor (var e in extend) Complex[e] = extend[e];\n\nvar sinh = function(x){\n\treturn (Math.pow(Math.E, x) - Math.pow(Math.E, -x)) / 2;\n};\n\nvar cosh = function(x){\n\treturn (Math.pow(Math.E, x) + Math.pow(Math.E, -x)) / 2;\n};\n\nmodule.exports = Complex;\n\n","export default (number) => {\n  if (typeof number === \"number\") {\n    return +number.toFixed(10);\n  }\n};\n","import Complex from 'Complex'\nimport fixed from \"./fixed\";\nexport default {\n  sum(from = 0, to = 0, callback) {\n\t\tif(to===Infinity){\n\t\t\treturn Infinity;\n\t\t}\n    let sum = 0;\n    for (let i = from; i <= to; i++) {\n      sum = fixed(sum + callback(i));\n    }\n    return sum;\n  },\n  prod(from = 0, to = 0, callback) {\n\t\tif(to===Infinity){\n\t\t\treturn Infinity;\n\t\t}\n    let pr = 1;\n    for (let i = from; i <= to; i++) {\n      pr = fixed(pr * callback(i));\n    }\n    return pr;\n\t},\n  prodComplex(from = 0, to = 0, callback) {\n\t\tif(to===Infinity){\n\t\t\treturn Infinity;\n\t\t}\n    let pr = Complex.from(1);\n    for (let i = from; i <= to; i++) {\n\t\t\tpr.multiply(callback(i))\n    }\n    return pr;\n\t},\n\tintegral(from = 0, to = 0, dt = 1, callback){\n\t\tlet sum = 0;\n    for (let i = from; i <= to; i=fixed(i+dt)) {\n      sum = fixed(sum + callback(i) * dt);\n    }\n    return sum;\n\t},\n\tpow(x,y){\n\t\treturn fixed(Math.pow(x,y))\n\t},\n\texp(x){\n\t\treturn fixed(Math.exp(x))\n\t},\n\tcos(x){\n\t\treturn fixed(Math.cos(x))\n\t},\n\tsin(x){\n\t\treturn fixed(Math.sin(x))\n\t},\n\n};","import fixed from \"./fixed\";\nimport math from \"./math\";\nimport Complex from \"Complex\";\n\nconst f = fixed;\n\nfunction normalizing(data) {\n  const arrY = data.map((e) => e.y);\n  let fi_max = arrY[0];\n  for (let i = 1; i < arrY.length; i++) {\n    if (Math.abs(arrY[i]) > Math.abs(fi_max)) {\n      fi_max = arrY[i];\n    }\n  }\n  const fi_dop = fi_max * math.pow(10, -7);\n  return data.map((e) => {\n    const newEl = { ...e };\n    if (newEl.y === 0) {\n      newEl.y = fi_dop;\n    }\n    return newEl;\n  });\n}\n\nexport default function calcReaction(inputSignalData, chainVar, centralFraq) {\n  const signalData = normalizing(inputSignalData);\n  const { Cz, N1, N2, N3, N4, a1s, a2e, a3x, a4y, w2e, w4y } = chainVar;\n  const Kz = (P, exceptions = {}) => {\n    return f(\n      f(\n        math.prod(1, N3, (i) => (exceptions.N3 !== i ? P + a3x[i] : 1)) *\n          math.prod(1, N4, (i) =>\n            exceptions.N4 !== i\n              ? math.pow(P, 2) +\n                f(2 * a4y[i] * P) +\n                math.pow(a4y[i], 2) +\n                math.pow(w4y[i], 2)\n              : 1\n          )\n      ) /\n        f(\n          Cz *\n            math.prod(1, N1, (i) => (exceptions.N1 !== i ? P + a1s[i] : 1)) *\n            math.prod(1, N2, (i) =>\n              exceptions.N2 !== i\n                ? math.pow(P, 2) +\n                  f(2 * a2e[i] * P) +\n                  math.pow(a2e[i], 2) +\n                  math.pow(w2e[i], 2)\n                : 1\n            )\n        )\n    );\n  };\n  const KzComplex = (P, exceptions = {}) => {\n    return math\n      .prodComplex(1, N3, (i) =>\n        exceptions.N3 !== i ? P.add(a3x[i]) : Complex.from(1)\n      )\n      .multiply(\n        math.prodComplex(1, N4, (i) =>\n          exceptions.N4 !== i\n            ? P.pow(2)\n                .add(P.multiply(2 * a4y[i]))\n                .add(math.pow(a4y[i], 2))\n                .add(math.pow(w4y[i], 2))\n            : Complex.from(1)\n        )\n      )\n      .divide(\n        math\n          .prodComplex(1, N1, (i) =>\n            exceptions.N1 !== i ? P.add(a1s[i]) : Complex.from(1)\n          )\n          .multiply(\n            math.prodComplex(1, N2, (i) =>\n              exceptions.N2 !== i\n                ? P.pow(2)\n                    .add(P.multiply(2 * a2e[i]))\n                    .add(math.pow(a2e[i], 2))\n                    .add(math.pow(w2e[i], 2))\n                : Complex.from(1)\n            )\n          )\n          .multiply(Cz)\n      );\n  };\n\n  const calc_R_0_ozo = (a_n0, C_n0, exceptions = {}) => {\n    const exc = { ...exceptions };\n    return f(\n      f(\n        (!exc.a_n0 ? a_n0 : 1) *\n          (!exc.N3 ? math.prod(1, N3, (i) => a3x[i]) : 1) *\n          math.prod(1, N4, (i) => math.pow(a4y[i], 2) + math.pow(w4y[i], 2))\n      ) /\n        f(\n          (!exc.C_n0 ? C_n0 : 1) *\n            Cz *\n            math.prod(1, N1, (i) => a1s[i]) *\n            math.prod(1, N2, (i) => math.pow(a2e[i], 2) + math.pow(w2e[i], 2))\n        )\n    );\n  };\n\n  const calc_R_1_ozo = (a_n0, C_n0, is_fi_n_equal_fi_n1, ignore_a_n0) => {\n    const exceptions = {};\n    let useMain = true;\n    if (is_fi_n_equal_fi_n1) {\n      exceptions.a_n0 = true;\n      useMain = false;\n    }\n    if (Object.values(a3x).some((e) => e === 0)) {\n      exceptions.N3 = true;\n      useMain = false;\n    }\n    return f(\n      calc_R_0_ozo(a_n0, C_n0, exceptions) *\n        (useMain\n          ? f(\n              math.sum(1, N3, (i) => 1 / a3x[i]) +\n                (ignore_a_n0 ? 0 : 1 / a_n0) +\n                math.sum(\n                  1,\n                  N4,\n                  (i) =>\n                    f(2 * a4y[i]) / f(math.pow(a4y[i], 2) + math.pow(w4y[i], 2))\n                ) -\n                math.sum(1, N1, (i) => 1 / a1s[i]) -\n                math.sum(\n                  1,\n                  N2,\n                  (i) =>\n                    f(2 * a2e[i]) / f(math.pow(a2e[i], 2) + math.pow(w2e[i], 2))\n                )\n            )\n          : 1)\n    );\n  };\n  const R_0_jz1s = (a_nj, C_nj, i) =>\n    f(\n      f(f(-a1s[i] + a_nj) / f(C_nj * math.pow(-a1s[i], 2))) *\n        Kz(-a1s[i], {\n          N1: i,\n        })\n    );\n  const R_0_jz2eComplex = (a_nj, C_nj, i) => {\n    const P = Complex.from(-a2e[i], w2e[i]).finalize();\n    return P.add(a_nj)\n      .divide(P.pow(2).multiply(C_nj))\n      .multiply(\n        KzComplex(P, {\n          N2: i,\n        })\n      );\n  };\n  const Psi = [];\n  const N = signalData.length - 1;\n  const T = f(signalData[N].x * centralFraq * 2 * Math.PI);\n  const delta_t = f(T / N);\n  const R_0_ozo = {},\n    R_1_ozo = {},\n    R_0_1z1s = {},\n    R_0_2z1s = {},\n    R_0_1z2e = {},\n    fi_0_1z2e = {},\n    R_0_2z2e = {},\n    fi_0_2z2e = {},\n    M_11s = {},\n    M_21s = {},\n    M_12e = {},\n    N_12e = {},\n    N_22e = {};\n  for (let n = 0; n <= N - 1; n++) {\n    const fi_n = signalData[n].y;\n    const fi_n1 = signalData[n + 1] ? signalData[n + 1].y : 0;\n    const a_n1 = f(f(fi_n1 - fi_n) / f(delta_t * fi_n));\n    const a_n2 = f(f(fi_n1 - fi_n) / f(delta_t * fi_n1));\n    const C_n1 = f(-1 / fi_n);\n    const C_n2 = f(-1 / fi_n1);\n    let part_znam_a_n0_and_C_n0 = f(fi_n - f(n * f(fi_n1 - fi_n)));\n    let ignore_a0 = false;\n    if (part_znam_a_n0_and_C_n0 === 0) {\n      part_znam_a_n0_and_C_n0 = 1;\n      ignore_a0 = true;\n    }\n    const a_n0 = f(f(fi_n1 - fi_n) / f(delta_t * part_znam_a_n0_and_C_n0));\n    const C_n0 = f(-1 / part_znam_a_n0_and_C_n0);\n    R_0_ozo[n] = calc_R_0_ozo(a_n0, C_n0);\n    R_1_ozo[n] = calc_R_1_ozo(a_n0, C_n0, fi_n === fi_n1, ignore_a0);\n    R_0_1z1s[n] = {};\n    R_0_2z1s[n] = {};\n    for (let i = 1; i <= N1; i++) {\n      R_0_1z1s[n][i] = R_0_jz1s(a_n1, C_n1, i);\n      R_0_2z1s[n][i] = R_0_jz1s(a_n2, C_n2, i);\n    }\n    R_0_1z2e[n] = {};\n    fi_0_1z2e[n] = {};\n    R_0_2z2e[n] = {};\n    fi_0_2z2e[n] = {};\n    for (let i = 1; i <= N2; i++) {\n      const R_0_jz2eComplex_result1 = R_0_jz2eComplex(a_n1, C_n1, i);\n      R_0_1z2e[n][i] = f(R_0_jz2eComplex_result1.abs());\n      fi_0_1z2e[n][i] = f(R_0_jz2eComplex_result1.angle());\n\n      const R_0_jz2eComplex_result2 = R_0_jz2eComplex(a_n2, C_n2, i);\n      R_0_2z2e[n][i] = f(R_0_jz2eComplex_result2.abs());\n      fi_0_2z2e[n][i] = f(R_0_jz2eComplex_result2.angle());\n    }\n  }\n  for (let i = 1; i <= N1; i++) {\n    M_11s[i] = f(1 / (1 - math.exp(a1s[i] * T)));\n    M_21s[i] = f(1 / (math.exp(-a1s[i] * T) - 1));\n  }\n  for (let i = 1; i <= N2; i++) {\n    const _M_and_N_znam = f(\n      math.exp(2 * a2e[i] * T) -\n        2 * math.exp(a2e[i] * T) * math.cos(w2e[i] * T) +\n        1\n    );\n    M_12e[i] = f(\n      f(math.exp(a2e[i] * T) * math.sin(w2e[i] * T)) / _M_and_N_znam\n    );\n    N_12e[i] = f(\n      f(1 - math.exp(a2e[i] * T) * math.cos(w2e[i] * T)) / _M_and_N_znam\n    );\n    N_22e[i] = f(\n      f(\n        math.exp(a2e[i] * T) * math.cos(w2e[i] * T) - math.exp(2 * a2e[i] * T)\n      ) / _M_and_N_znam\n    );\n  }\n\n  for (let n = 0; n <= N - 1; n++) {\n    const sum1 = math.sum(\n      1,\n      N1,\n      (s) =>\n        f(\n          f(M_21s[s] * R_0_1z1s[n][s]) -\n            f(M_11s[s] * R_0_2z1s[n][s] * math.exp(a1s[s] * delta_t))\n        ) +\n        math.sum(\n          n + 1,\n          N - 1,\n          (k) =>\n            M_11s[s] *\n            f(\n              f(R_0_1z1s[k][s] * math.exp(a1s[s] * (k - n) * delta_t)) -\n                f(R_0_2z1s[k][s] * math.exp(a1s[s] * (k - n + 1) * delta_t))\n            )\n        ) +\n        math.sum(\n          1,\n          n,\n          (k) =>\n            M_21s[s] *\n            f(\n              f(R_0_1z1s[n - k][s] * math.exp(-a1s[s] * k * delta_t)) -\n                f(R_0_2z1s[n - k][s] * math.exp(-a1s[s] * (k - 1) * delta_t))\n            )\n        )\n    );\n    const sum2 = math.sum(\n      1,\n      N2,\n      (l) =>\n        f(\n          f(\n            f(R_0_1z2e[n][l] / w2e[l]) *\n              f(\n                f(N_22e[l] * math.sin(fi_0_1z2e[n][l])) -\n                  f(M_12e[l] * math.cos(fi_0_1z2e[n][l]))\n              )\n          ) -\n            f(\n              f(R_0_2z2e[n][l] / w2e[l]) *\n                math.exp(a2e[l] * delta_t) *\n                f(\n                  N_12e[l] * math.sin(-w2e[l] * delta_t + fi_0_2z2e[n][l]) -\n                    M_12e[l] * math.cos(-w2e[l] * delta_t + fi_0_2z2e[n][l])\n                )\n            )\n        ) +\n        math.sum(n + 1, N - 1, (k) =>\n          f(\n            f(R_0_1z2e[k][l] / w2e[l]) *\n              math.exp(a2e[l] * (k - n) * delta_t) *\n              f(\n                f(\n                  N_12e[l] *\n                    math.sin(w2e[l] * (n - k) * delta_t + fi_0_1z2e[k][l])\n                ) -\n                  f(\n                    M_12e[l] *\n                      math.cos(w2e[l] * (n - k) * delta_t + fi_0_1z2e[k][l])\n                  )\n              ) -\n              f(\n                f(R_0_2z2e[k][l] / w2e[l]) *\n                  math.exp(a2e[l] * (k - n + 1) * delta_t) *\n                  f(\n                    N_12e[l] *\n                      math.sin(\n                        w2e[l] * (n - k - 1) * delta_t + fi_0_2z2e[k][l]\n                      ) -\n                      M_12e[l] *\n                        math.cos(\n                          w2e[l] * (n - k - 1) * delta_t + fi_0_2z2e[k][l]\n                        )\n                  )\n              )\n          )\n        ) +\n        math.sum(1, n, (k) =>\n          f(\n            f(R_0_1z2e[n - k][l] / w2e[l]) *\n              math.exp(-a2e[l] * k * delta_t) *\n              f(\n                N_22e[l] *\n                  math.sin(w2e[l] * k * delta_t + fi_0_1z2e[n - k][l]) -\n                  M_12e[l] *\n                    math.cos(w2e[l] * k * delta_t + fi_0_1z2e[n - k][l])\n              ) -\n              f(\n                f(R_0_2z2e[n - k][l] / w2e[l]) *\n                  math.exp(-a2e[l] * (k - 1) * delta_t) *\n                  f(\n                    N_22e[l] *\n                      math.sin(\n                        w2e[l] * (k - 1) * delta_t + fi_0_2z2e[n - k][l]\n                      ) -\n                      M_12e[l] *\n                        math.cos(\n                          w2e[l] * (k - 1) * delta_t + fi_0_2z2e[n - k][l]\n                        )\n                  )\n              )\n          )\n        )\n    );\n    const Psi_n = -f(R_0_ozo[n] * n * delta_t) - R_1_ozo[n] + sum1 + sum2;\n\n    Psi.push({ x: signalData[n].x, y: f(Psi_n) });\n  }\n  return Psi;\n}\n","import fixed from \"./fixed\";\nimport math from \"./math\";\n\nexport default ({ func, start = 0, end, numberPoints }) => {\n  const data = [];\n  const pointsFraq = fixed((end - start) / numberPoints);\n\n  for (let x = start; x <= end; x = fixed(x + pointsFraq)) {\n    let y;\n    if (func) {\n      y = parseMathJSON({ json: func, start, end, fraq: pointsFraq }, { t: x });\n    }\n    data.push({ x, y });\n  }\n  return data;\n};\nfunction parseMathJSON({ json, start = 0, end = 0, fraq }, mainVariables = {}) {\n  const main = (obj, variables) => {\n    try {\n      if (obj === undefined) return;\n      const _main = (o, v = variables) => main(o, v);\n      if (typeof obj === \"number\") {\n        return obj;\n      } else if (\n        obj.sup &&\n        !(obj.fn === \"sum\" || obj.fn === \"prod\" || obj.fn === \"cot\")\n      ) {\n        return fixed(\n          Math.pow(\n            fixed(_main({ ...obj, sup: undefined })),\n            fixed(_main(obj.sup))\n          )\n        );\n      } else if (obj.fn) {\n        if (obj.arg) {\n          if (obj.fn === \"multiply\") {\n            return fixed(obj.arg.reduce((acc, e) => acc * _main(e), 1));\n          } else if (obj.fn === \"subtract\") {\n            return fixed(\n              _main(obj.arg[0]) - (obj.arg[1] ? _main(obj.arg[1]) : 0)\n            );\n          } else if (obj.fn === \"add\") {\n            return fixed(obj.arg.reduce((acc, e) => acc + _main(e), 0));\n          } else if (obj.fn === \"divide\") {\n            if (obj.arg[0] === undefined || obj.arg[1] === undefined)\n              return NaN;\n            return fixed(_main(obj.arg[0]) / _main(obj.arg[1]));\n          } else if (obj.fn === \"sin\") {\n            return fixed(Math.sin(_main(obj.arg[0])));\n          } else if (obj.fn === \"arcsin\") {\n            return fixed(Math.asin(_main(obj.arg[0])));\n          } else if (obj.fn === \"cos\") {\n            return fixed(Math.cos(_main(obj.arg[0])));\n          } else if (obj.fn === \"arccos\") {\n            return fixed(Math.acos(_main(obj.arg[0])));\n          } else if (obj.fn === \"tan\") {\n            return fixed(Math.tan(_main(obj.arg[0])));\n          } else if (obj.fn === \"arctan\") {\n            return fixed(Math.atan(_main(obj.arg[0])));\n          } else if (obj.fn === \"ln\") {\n            if (obj.sub !== undefined) {\n              return fixed(\n                Math.log(_main(obj.arg[0])) / Math.log(_main(obj.sub))\n              );\n            }\n            return fixed(Math.log(_main(obj.arg[0])));\n          } else if (\n            obj.fn === \"log\" &&\n            obj.arg !== undefined &&\n            obj.sub !== undefined\n          ) {\n            return fixed(\n              Math.log(_main(obj.arg[0])) / Math.log(_main(obj.sub))\n            );\n          } else if (obj.fn === \"negate\") {\n            if (obj.arg[0] === undefined) return NaN;\n            return fixed(-1 * _main(obj.arg[0]));\n          } else if (obj.fn === \"abs\") {\n            if (obj.arg[0] === undefined) return NaN;\n            return fixed(Math.abs(_main(obj.arg[0])));\n          } else if (obj.fn === \"sqrt\") {\n            if (obj.arg[0] === undefined) return NaN;\n            return fixed(Math.sqrt(_main(obj.arg[0])));\n          } else if (obj.fn === \"sign\") {\n            return fixed(Math.sign(_main(obj.arg[0])));\n          } else if (obj.fn === \"ceil\" && obj.arg) {\n            return fixed(Math.ceil(_main(obj.arg[0])));\n          } else if (obj.fn === \"floor\" && obj.arg) {\n            return fixed(Math.floor(_main(obj.arg[0])));\n          } else if (obj.fn === \"round\" && obj.arg) {\n            return fixed(Math.round(_main(obj.arg[0])));\n          } else if (\n            (obj.fn === \"sum\" || obj.fn === \"prod\") &&\n            obj.arg[0] &&\n            obj.sup &&\n            obj.sub &&\n            obj.sub.fn === \"equal\" &&\n            obj.sub.arg[1] &&\n            obj.sub.arg[0].sym\n          ) {\n            let sumOrProd;\n            if (obj.fn === \"sum\") {\n              sumOrProd = math.sum;\n            } else if (obj.fn === \"prod\") {\n              sumOrProd = math.prod;\n            }\n            return fixed(\n              sumOrProd(_main(obj.sub.arg[1]), _main(obj.sup), (i) =>\n                _main(obj.arg[0], { ...variables, [obj.sub.arg[0].sym]: i })\n              )\n            );\n          } else if (\n            (obj.fn === \"differentialD\" &&\n              obj.arg[0] &&\n              obj.arg[0].fn === \"cot\" &&\n              obj.arg[1]) ||\n            (obj.fn === \"cot\" &&\n              obj.arg[0] &&\n              obj.arg[0].fn === \"differentialD\" &&\n              obj.arg[0].arg[0] &&\n              obj.arg[0].arg[1])\n          ) {\n            // fexed \\int - integral\n            let sub, sup, body, sym;\n            if (obj.fn === \"differentialD\") {\n              sub = obj.arg[0].sub || start;\n              sup = obj.arg[0].sup || end;\n              body = obj.arg[0].arg[0];\n              sym = obj.arg[1].sym;\n            } else if ((obj.fn = \"cot\")) {\n              sub = obj.sub || start;\n              sup = obj.sup || end;\n              body = obj.arg[0].arg[0];\n              sym = obj.arg[0].arg[1].sym;\n            }\n            if (\n              sub === undefined ||\n              sup === undefined ||\n              body === undefined ||\n              sym === undefined\n            )\n              return;\n            return fixed(\n              math.integral(_main(sub), _main(sup), fraq, (i) =>\n                _main(body, {\n                  ...variables,\n                  [sym]: i,\n                })\n              )\n            );\n          } else if (obj.fn === \"brace\" && obj.arg[0]) {\n            if (obj.arg[0].fn === \"list\") {\n              return obj.arg[0].arg.some(\n                (a) => fixed(_main(a)) === variables.t\n              );\n            } else {\n              return fixed(_main(obj.arg[0])) === variables.t;\n            }\n          } else if (obj.fn === \"list\") {\n            if (obj.arg.length > 1) {\n              const parentheses = [];\n              const squareBrackets = [];\n              for (let i = 1; i < obj.arg.length; i++) {\n                const cur = _main(obj.arg[i]);\n                const next = obj.arg[i + 1] && _main(obj.arg[i + 1]);\n                if (typeof cur === \"number\" && typeof next === \"number\") {\n                  parentheses.push([cur, next]);\n                  i++;\n                } else if (typeof cur === \"boolean\") {\n                  squareBrackets.push(cur);\n                }\n              }\n              if (\n                parentheses.some(\n                  (e) => variables.t > e[0] && variables.t < e[1]\n                ) ||\n                squareBrackets.some((e) => e === true)\n              ) {\n                return fixed(_main(obj.arg[0]));\n              }\n            }\n          } else if (\n            obj.fn.includes(\"brack\") &&\n            obj.arg[0] &&\n            obj.arg[0].fn === \"list\" &&\n            obj.arg[0].arg &&\n            obj.arg[0].arg.length === 2\n          ) {\n            const rightValue = [\n              fixed(_main(obj.arg[0].arg[0])),\n              fixed(_main(obj.arg[0].arg[1])),\n            ];\n            if (obj.fn === \"\\\\lbrack\\\\rbrack\") {\n              return (\n                variables.t >= rightValue[0] && variables.t <= rightValue[1]\n              );\n            } else if (obj.fn === \"(\\\\rbrack\") {\n              return (\n                variables.t > rightValue[0] && variables.t <= rightValue[1]\n              );\n            } else if (obj.fn === \"\\\\lbrack)\") {\n              return (\n                variables.t >= rightValue[0] && variables.t < rightValue[1]\n              );\n            }\n          } else if (obj.fn === \"lt\" && obj.arg.length === 2) {\n            return fixed(_main(obj.arg[0])) < fixed(_main(obj.arg[1]));\n          } else if (obj.fn === \"gt\" && obj.arg.length === 2) {\n            return fixed(_main(obj.arg[0])) > fixed(_main(obj.arg[1]));\n          } else if (obj.fn === \"ge\" && obj.arg.length === 2) {\n            return fixed(_main(obj.arg[0])) >= fixed(_main(obj.arg[1]));\n          } else if (obj.fn === \"similar\" && obj.arg.length === 2) {\n            // it is fixed \\le - <=\n            return fixed(_main(obj.arg[0])) <= fixed(_main(obj.arg[1]));\n          } else if (obj.fn === \"equal\" && obj.arg.length === 2) {\n            return fixed(_main(obj.arg[0])) === fixed(_main(obj.arg[1]));\n          } else if (obj.fn === \"ne\" && obj.arg.length === 2) {\n            return fixed(_main(obj.arg[0])) !== fixed(_main(obj.arg[1]));\n          } else if (obj.fn === \"elementof\" && obj.arg.length === 2) {\n            const leftValue = fixed(_main(obj.arg[0]));\n            if (obj.arg[1].fn === \"list\" && obj.arg[1].arg.length === 2) {\n              return (\n                leftValue > fixed(_main(obj.arg[1].arg[0])) &&\n                leftValue < fixed(_main(obj.arg[1].arg[1]))\n              );\n            } else if (\n              obj.arg[1].fn &&\n              obj.arg[1].fn.includes(\"brack\") &&\n              obj.arg[1].arg[0] &&\n              obj.arg[1].arg[0].fn === \"list\" &&\n              obj.arg[1].arg[0].arg &&\n              obj.arg[1].arg[0].arg.length === 2\n            ) {\n              const rightValue = [\n                fixed(_main(obj.arg[1].arg[0].arg[0])),\n                fixed(_main(obj.arg[1].arg[0].arg[1])),\n              ];\n              if (obj.arg[1].fn === \"\\\\lbrack\\\\rbrack\") {\n                return leftValue >= rightValue[0] && leftValue <= rightValue[1];\n              } else if (obj.arg[1].fn === \"(\\\\rbrack\") {\n                return leftValue > rightValue[0] && leftValue <= rightValue[1];\n              } else if (obj.arg[1].fn === \"\\\\lbrack)\") {\n                return leftValue >= rightValue[0] && leftValue < rightValue[1];\n              }\n            } else if (obj.arg[1].fn === \"brace\" && obj.arg[1].arg[0]) {\n              if (obj.arg[1].arg[0].fn === \"list\") {\n                return obj.arg[1].arg[0].arg.some(\n                  (a) => fixed(_main(a)) === leftValue\n                );\n              } else {\n                return fixed(_main(obj.arg[1].arg[0])) === leftValue;\n              }\n            } else {\n              const rightValue = _main(obj.arg[1]);\n              if (rightValue) {\n                return fixed(rightValue) === leftValue;\n              }\n            }\n          } else if (obj.fn === \"f\") {\n            if (obj.arg.length === 1) {\n              const newT = fixed(_main(obj.arg[0]));\n              if (newT !== variables.t && newT >= start && newT <= end) {\n                const y = _main(json, { t: newT });\n                return y && fixed(y);\n              }\n            }\n          }\n        } else if (obj.args) {\n          if (obj.fn === \"cases\") {\n            for (let i = 0; i < obj.args.length; i++) {\n              if (obj.args[i][0]) {\n                if (\n                  obj.args[i][0].fn === \"f\" &&\n                  obj.args[i][0].arg &&\n                  obj.args[i][0].arg.length === 1\n                ) {\n                  const newT = fixed(_main(obj.args[i][0].arg[0]));\n                  if (newT !== variables.t && newT >= start && newT <= end) {\n                    const y = _main(obj, { t: newT });\n                    return y && fixed(y);\n                  }\n                }\n                const responseComprasion = _main(obj.args[i][0]);\n                if (responseComprasion !== undefined) {\n                  return responseComprasion;\n                }\n              }\n            }\n          }\n        } else {\n          return NaN;\n        }\n      } else if (obj.group) {\n        return fixed(_main(obj.group));\n      } else if (obj.num) {\n        return +obj.num;\n      } else if (obj.sym) {\n        let value = variables[obj.sym];\n        if (value === undefined) {\n          if (obj.sym === \"\") {\n            value = Math.PI;\n          } else if (obj.sym === \"\") {\n            value = Infinity;\n          } else if (obj.sym === \"\") {\n            value = undefined;\n          } else if (obj.sym === \"e\") {\n            value = Math.E;\n          } else {\n            value = NaN;\n          }\n        }\n        return value;\n      }\n    } catch (err) {\n      console.error(err);\n    }\n  };\n  return main(json, mainVariables);\n}\n","import calcReaction from \"../helpers/calcReaction\";\nimport calcFunc from \"../helpers/calcFunc\";\nimport calcLeaps from \"../helpers/calcLeaps\";\n\nconst getChartData = (chart, range) => {\n  const { start, end, numberPoints } = range;\n  if (chart.initial) {\n    if (chart.initial.type === \"table\") {\n      return calcLeaps({\n        leaps: chart.initial.leaps,\n        start,\n        end,\n        numberPoints,\n      });\n    } else if (chart.initial.type === \"func\") {\n      return calcFunc({\n        func: chart.initial.func,\n        start,\n        end,\n        numberPoints,\n      });\n    } else if (chart.initial.type === \"result\") {\n      const signalData = getChartData(chart.initial.signal, range);\n      return calcReaction(\n        signalData,\n        chart.initial.chain,\n        chart.initial.centralFraq\n      );\n    }\n  } else if (chart.data) {\n    return chart.data.filter(({ x }) => x >= start && x < end);\n  }\n  return [];\n};\nconst calc =(charts, { start, end, numberPoints })=>{\n\tconst obj = {};\n    charts\n      .forEach((chart) => {\n        const data = getChartData(chart, { start, end, numberPoints });\n        data.forEach((e) => {\n          let x = e.x;\n          let y = e.y;\n          if (y === -Infinity || y === Infinity || y === NaN) {\n            y = undefined;\n          }\n          if (x !== undefined && y !== undefined) {\n            if (!obj[x]) obj[x] = {};\n            obj[x][chart.id] = y;\n          }\n        });\n      });\n    return Object.entries(obj)\n      .map((e) => ({ x: +e[0], ...e[1] }))\n      .sort((a, b) => a.x - b.x);\n}\naddEventListener(\"message\", (e) => {\n  const msg = e.data;\n  if (msg.type === \"calc\") {\n\t\tconst data = calc(msg.charts,msg.range)\n\t\tpostMessage({\n\t\t\ttype:'calc',\n\t\t\tdata\n\t\t})\n  }\n});\n","import fixed from \"./fixed\";\nexport default ({ leaps = [], start = 0, end, numberPoints }) => {\n  const data = [];\n  const pointsFraq = fixed((end - start) / numberPoints);\n\n  for (let x = start; x <= end; x = fixed(x + pointsFraq)) {\n    let y = 0;\n    for (let i = 0; i < leaps.length; i++) {\n      const { amplitude, delay, fraquency, phase } = leaps[i];\n      if (x >= delay) {\n        if (amplitude) {\n          if (fraquency) {\n            y = fixed(\n              y +\n                fixed(\n                  amplitude *\n                    Math.cos(\n                      fixed(x * fraquency * 2 * Math.PI) + fixed(phase * (Math.PI / 180))\n                    )\n                )\n            );\n          } else {\n            y = fixed(y + amplitude);\n          }\n        }\n      }\n    }\n    data.push({ x, y });\n\t}\n  return data;\n};\n"],"sourceRoot":""}